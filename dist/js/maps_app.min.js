function initMap(){MapsApp.init("map",{lat:28.050615,lng:-16.71212},poiData,options,"amenity-list")}var PoiMap=function(a){var b,c,d,e,f,g,h=function(a,g,h,i){return v(a,g)&&(c=a,d=g,f=h,b=j(),e=k(d),l(),i.infoWindow&&(q(),u(),s()),i.customMarkers&&o(i.customMarkers)),this},i=function(){return f},j=function(){var b,e=a.getElementById(c);return b=new google.maps.Map(e,{center:d,scrollwheel:!1,zoom:15})},k=function(a){return new google.maps.Marker({position:a,map:b})},l=function(){f.forEach(function(a,b){a.marker=k(a.coords)}),m(),n()},m=function(){g=new google.maps.LatLngBounds;for(var a=0;a<f.length;a++)g.extend(f[a].marker.getPosition())},n=function(){b.fitBounds(g)},o=function(a){f.forEach(function(b,c){var d=b.type,e=b.marker;p(e,a.path,d,a.icon).call(),a.zoom&&(e.addListener("mouseover",p(e,a.path,d,a.zoom,new google.maps.Point(14,20))),e.addListener("mouseout",p(e,a.path,d,a.icon)))})},p=function(a,b,c,d,e){return function(){var f={url:b+c+d+".png",origin:new google.maps.Point(0,0),anchor:e};a.setIcon(f)}},q=function(){_infoWindow=new google.maps.InfoWindow({maxWidth:400})},r=function(a){var c=t(f[a]);_infoWindow.setContent(c),_infoWindow.open(b,f[a].marker)},s=function(){google.maps.event.addListener(_infoWindow,"closeclick",function(){n()})},t=function(a){var b;return b='<div id="maps-window">',b+="<h3>"+a.name+"</h3>",b+='<a href="'+a.website_url+'">'+a.website_url+"</a>",b+="<p>"+a.description+"</p>",b+="</div>"},u=function(){f.forEach(function(a,b){a.marker.addListener("click",function(){r(b)})})},v=function(b,c){return b?"string"!=typeof b?(console.error("Error: Map ID must be a string"),!1):a.getElementById(b)?c?c.lat&&c.lng?"number"!=typeof c.lat||"number"!=typeof c.lng?(console.error("Error: Lattitude and longitude must be numbers"),!1):!0:(console.error("Error: Please provide central location lattitude and longitude"),!1):(console.error("Error: No central location provided"),!1):(console.error("Error: Map ID must be part of the DOM!"),!1):(console.error("Error: No Map ID present"),!1)};return{init:h,getPoiArray:i}}(document),PoiList=function(){var a=function(a,b,c){return this};return{init:a}}(),MapsApp=function(a,b){var c,d,e,f=function(f,g,h,i,j){return c=a.init(f,g,h,i),e=c.getPoiArray(),d=b.init(j,e,c),this},g=function(a,b,d){c.customMarkerIcons(a,b,d)};return{init:f,customMarkerIcons:g}}(PoiMap||{},PoiList||{}),poiData=[{name:"Supermercados Coviran",type:"supermarket",description:"A supermarket offering all your grocery needs",website_url:"http://www.supermarket.com",coords:{lat:28.05249,lng:-16.71548}},{name:"Mercadona",type:"supermarket",description:"Tenerife&apos;s biggest supermarket",website_url:"http://www.mercadona.com",coords:{lat:28.05457,lng:-16.70861}},{name:"O&apos;Neill&apos;s Bar",type:"bar",description:"A lively Irish bar",website_url:"http://www.oneills.com",coords:{lat:28.056,lng:-16.72445}},{name:"Claddagh Irish Bar",type:"bar",description:"Always a friendly atmosphere",website_url:"http://www.claddagh.com",coords:{lat:28.05,lng:-16.7166667}},{name:"Taylor&apos;s Lounge",type:"bar",description:"A cool bar and stuff",website_url:"http://www.taylors.com",coords:{lat:28.05176,lng:-16.71619}}],options={infoWindow:1,customMarkers:{path:"./img/amenity_icons/",zoom:"_icon_large",icon:"_icon_small"}};