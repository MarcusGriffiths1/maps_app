function initMap(){MapsApp.init("map",{lat:28.050615,lng:-16.71212},poiData,"amenity-list").customMarkerIcons("./img/amenity_icons/","_icon_small","_icon_large")}var SimpleMap=function(a){var b,c,d,e=function(a,e){return j(a,e)?(f(e),b=h(a,c),d=i(c),this):void 0},f=function(a){c=a},g=function(){return b},h=function(b,c){var d,e=a.getElementById(b);return d=new google.maps.Map(e,{center:c,scrollwheel:!1,zoom:15})},i=function(a){return new google.maps.Marker({position:a,map:b})},j=function(b,c){return b?"string"!=typeof b?(console.error("Error: Map ID must be a string"),!1):a.getElementById(b)?c?c.lat&&c.lng?"number"!=typeof c.lat||"number"!=typeof c.lng?(console.error("Error: Lattitude and longitude must be numbers"),!1):!0:(console.error("Error: Please provide central location lattitude and longitude"),!1):(console.error("Error: No central location provided"),!1):(console.error("Error: Map ID must be part of the DOM!"),!1):(console.error("Error: No Map ID present"),!1)};return{init:e,addMarker:i,getMap:g}}(document),MultipleMarkerMap=function(a){var b,c,d,e,f=function(c,d,e){return b=a.init(c,d),h(),i(e),m(),n(),o(),k(),p(),this},g=function(){return c},h=function(){d=new google.maps.InfoWindow({maxWidth:400})},i=function(a){c=a},j=function(a){var e=l(c[a]);d.setContent(e),d.open(b.getMap(),c[a].marker)},k=function(){google.maps.event.addListener(d,"closeclick",function(){o()})},l=function(a){var b;return b='<div class="maps-window">',b+="<h3>"+a.name+"</h3>",b+='<a href="'+a.website_url+'">'+a.website_url+"</a>",b+="<p>"+a.description+"</p>",b+="</div>"},m=function(){c.forEach(function(a,c){a.marker=b.addMarker(a.coords)})},n=function(){e=new google.maps.LatLngBounds;for(var a=0;a<c.length;a++)e.extend(c[a].marker.getPosition())},o=function(){b.getMap().fitBounds(e)},p=function(){c.forEach(function(a,b){a.marker.addListener("click",function(){_createInfoWindow(b)})})},q=function(a,b,d){c.forEach(function(c,e){var f=c.type[0],g=c.marker;r(g,a,f,b).call(),g.addListener("mouseover",r(g,a,f,d,new google.maps.Point(14,20))),g.addListener("mouseout",r(g,a,f,b))})},r=function(a,b,c,d,e){return function(){var f={url:b+c+d+".png",origin:new google.maps.Point(0,0),anchor:e};a.setIcon(f)}};return{init:f,customMarkerIcons:q,getPoiArray:g,changeIcon:r,createInfoWindow:j}}(SimpleMap||{}),PoiList=function(){var a,b,c,d=function(d,f,g){a=d,b=f,c=g,e(),h()},e=function(){var c=f(b);document.getElementById(a).innerHTML=c},f=function(a){var b;return b='<ul id="poi-list">',a.forEach(function(a,c){b+=g(a),console.log(b)}),b+="</ul>"},g=function(a){var b,c="img/amenity_icons/bar_icon_large.png",d="Sparky's Bar",e=.2,f=4;return b="<li>",b+='<img class="poi-icon" src="'+c+'">',b+="<h3>"+d+"</h3>",b+='<span class="poi-distance">'+e+" miles from you</span>",b+='<span class="poi-rating">Rating: <span>'+f+"</span></span>",b+="</li>"},h=function(){var a=document.getElementById("poi-list").getElementsByTagName("li");Array.prototype.forEach.call(a,function(a,d){a.addEventListener("mouseover",function(){c.changeIcon(b[d].marker,"./img/amenity_icons/",b[d].type[0],"_icon_large",new google.maps.Point(14,20))()}),a.addEventListener("mouseleave",function(){c.changeIcon(b[d].marker,"./img/amenity_icons/",b[d].type[0],"_icon_small")()}),a.addEventListener("click",function(){c.createInfoWindow(d)})})};return{init:d}}(),MapsApp=function(a,b){var c,d,e,f=function(f,g,h,i){return c=a.init(f,g,h),e=c.getPoiArray(),d=b.init(i,e,c),this},g=function(a,b,d){c.customMarkerIcons(a,b,d)};return{init:f,customMarkerIcons:g}}(MultipleMarkerMap||{},PoiList||{}),poiData=[{name:"Supermercados Coviran",type:["supermarket"],description:"A supermarket offering all your grocery needs",website_url:"http://www.supermarket.com",coords:{lat:28.05249,lng:-16.71548}},{name:"Mercadona",type:["supermarket"],description:"Tenerife&apos;s biggest supermarket",website_url:"http://www.mercadona.com",coords:{lat:28.05457,lng:-16.70861}},{name:"O&apos;Neill&apos;s Bar",type:["bar"],description:"A lively Irish bar",website_url:"http://www.oneills.com",coords:{lat:28.056,lng:-16.72445}},{name:"Claddagh Irish Bar",type:["bar"],description:"Always a friendly atmosphere",website_url:"http://www.claddagh.com",coords:{lat:28.05,lng:-16.7166667}},{name:"Taylor&apos;s Lounge",type:["bar"],description:"A cool bar and stuff",website_url:"http://www.taylors.com",coords:{lat:28.05176,lng:-16.71619}}];